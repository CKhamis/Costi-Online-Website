<!DOCTYPE html>
<html xml:th="https://www.thymeleaf.org">
<head th:replace="Components :: head('View Post')"></head>
<body class="bg-1 text-1 pt-5">
<div th:replace="Components :: nav"></div>

<main class="container-fluid mx-2 mt-4">
    <div class="row" th:if="${isViewable}">
        <div class="d-none d-md-block col-md-3">
            <h3 class="text-secondary fw-bold" th:text="|More ${post.getCategory()}|">Category</h3>

        </div>
        <div class="col-12 col-md-8 col-lg-6 px-lg-5" th:object="${post}">
            <div class="row">
                <div class="col col-md-8 d-none d-md-block">
                    <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="/" class="text-secondary">Costi Online</a></li>
                            <li class="breadcrumb-item"><a href="/Newsroom" class="text-secondary">Newsroom Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page" th:text="*{getTitle()}"></li>
                        </ol>
                    </nav>
                </div>
                <div class="col col-md-4 d-none d-md-block">
                    <p th:text="'Last Edited: ' + *{getDateEdited()}" class="text-end text-secondary"></p>
                </div>
            </div>
            <img th:src="@{*{getImagePath()}}" style="aspect-ratio: 16 / 9; object-fit:cover;width: 100%;"/>

            <h1 class="fw-bold" th:text="*{getTitle()}"></h1>
            <p class="text-muted fw-bold" th:text="*{getSubtitle()}"></p>
            <p>By: Website Operator</p>

            <div th:unless="*{enabled}" class="alert alert-secondary text-center" role="alert">
                <p>This post is not visible to the public</p>
                <a class="btn btn-primary btn-sm d-inline" th:href="@{|/COMT/Newsroom/*{getId()}/edit|}" th:if="${isOwner}">Edit</a>
                <a class="btn btn-secondary btn-sm d-inline" href="/COMT/Newsroom" th:if="${isOwner}">COMT</a>
            </div>

            <div id="contentBody">
                <p class="fs-5" th:utext="*{getBody()}"></p>
            </div>
        </div>
        <div class="d-none d-lg-block col-lg-3">
            <h3 class="text-secondary fw-bold">Recent Content</h3>
        </div>
    </div>
    <div th:unless="${isViewable}">
        <div class="p-3 p-lg-5 mb-4 border-box">
            <div class="container py-5">
                <h1 class="display-5 fw-bold">⚠️You do not have access to this post</h1>
                <p class="col-lg-10 fs-4">This post is currently under review by the website owner. Please check back on this page at a future point</p>
            </div>
        </div>
    </div>
</main>

<div th:replace="Components :: footer"></div>
<div th:replace="Components :: scripts"></div>
</body>
</html>